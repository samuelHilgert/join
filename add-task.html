<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="./assets/img/logo.svg" />
  <title>Add Task</title>
  <script src="./js/script.js"></script>
  <script src="./js/contacts.js"></script>
  <script src="./js/add-task.js"></script>
  <script src="./js/contactsHTML.js"></script>
  <script src="./js/sidebar.js"></script>
  <script src="./js/storage.js"></script>
  <link rel="stylesheet" href="./css/standard.css">
  <link rel="stylesheet" href="./css/fonts.css">
  <link rel="stylesheet" href="./css/assets.css">
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="./css/contacts.css">
  <link rel="stylesheet" href="./css/add-task.css">
</head>

<body onload="init()">
  <div class="sidebar d_c_sb_c" include-html="../assets/templates/sidebar.html"></div>

  <div class="aot d_f_fs_c pad-x-80 bgC-white">
    <header class="d_f_sb_c" include-html="../assets/templates/header.html"></header>
  </div>

  <form class="main-container d_c_c_fs pad-l-90 pad-y-50 gap-30"onsubmit="addTask(); return false;">
    <div class="d_f_c_c gap-30">
      <div>
        <h2 class="d_f_c_c">Add Task</h2>
      </div>
    </div>

    <div class="add-task-form-container gap-40 d_f_fs_c">
      <!--BLOCK 1-->

      <div class="box d_c_c_s gap-30 width-460">
        <div class="d_c_c_s gap-10 width-100">
          <span class="font-size-20">Title<span style="color: red">*</span></span>
          <input id="task-title" class="task-input-style input-login" type="text" placeholder="Enter a title"
            required />
        </div>

        <div class="d_c_c_s gap-10 width-100">
          <span class="font-size-20">Description</span>
          <textarea id="task-description" cols="30" rows="2" class="task-input-style input-style-description"
            placeholder="Enter a Description"></textarea>
        </div>

        <div class="d_c_c_s gap-10 width-max position-relativ">
          <span class="font-size-20">Assigned to</span>
          <input class="input-style d_f_c_c dropdown-add-task bgC-white width-max" placeholder="Select contacts to assign">
            <!-- deaktiviertes optionsfeld um placeholder anzuzeigen, da bei dropdown nicht mit placeholder im tag gearbeitet werden kann -->
            <div class="input-icon-div" onclick="openDropdown()">
              <img src="assets/img/arrow_drop_down.png" alt="Arrow Down" id="dropdown-arrow">
            </div>
            <div class="assigned-div d_c_fs_fs pad-x-30 pad-y-10 gap-10" id="taskContactDiv"></div>
          </input>
          <div class="d_f_fs_c gap-10" id="contactSelection"></div>
        </div>

      </div>

      <!--LINE-->
      <div class="div-partingline"></div>

      <!--BLOCK 2-->

      <div class="box d_c_c_s gap-20 width-460">
        <div class="d_c_c_s gap-10 width-100">
          <span class="font-size-20">Due date<span style="color: red">*</span></span>
          <input id="task-date" class="task-input-style due-date-field input-font" name="date" type="text"
            onfocus="(this.type='date')" onblur="(this.type='text')" onclick="setMinimumDate()" placeholder="dd/mm/yyyy"
            required />
        </div>
        <div style="display: flex">
          <div class="d_c_c_s gap-10">
            <span class="font-size-20">Prio</span>
            <div class="d_f_c_c gap-20" style="width: 460px">
              <button type="button" onclick="setPriority('urgent-btn')" id="urgent-btn"
                class="task-btn-style input-prio d_f_c_c gap-10">
                Urgent<img src="assets/img/prio-urgent.svg" />
              </button>
              <button type="button" onclick="setPriority('medium-btn')" id="medium-btn"
                class="task-btn-style input-prio d_f_c_c gap-10 active-prio-btn-medium">
                Medium<img src="assets/img/prio-medium.svg" />
              </button>
              <button type="button" onclick="setPriority('low-btn')" id="low-btn"
                class="task-btn-style input-prio d_f_c_c gap-10">
                Low<img class="filter-btn-low" src="assets/img/prio-low.svg" />
              </button>
            </div>
          </div>
        </div>

        <div class="d_c_c_s gap-10 width-100">
          <span class="font-size-20">Category<span style="color: red">*</span></span>
          <div class="position-relativ width-100">
            <input id="task-category" class="task-input-style input-login" placeholder="Select task category" readonly
              onclick="toggleCategoryDiv()" required />
            <div class="input-icon-div" style="top: 29%" onclick="toggleCategoryDiv()">
              <img src="assets/img/arrow_drop_down.png" alt="Arrow Down" id="category-drop-icon" />
            </div>
          </div>
          <div id="category-div" class="category-div" style="display: none">
            <span class="task-category" onclick="chooseCategory(this), toggleCategoryDiv()">Technical Task</span>
            <span class="task-category" onclick="chooseCategory(this), toggleCategoryDiv()">User Story</span>
          </div>
        </div>

        <div class="d_c_c_s gap-10 width-100 input-dropdown">
          <span class="font-size-20">Subtask</span>
          <input onfocus="changeIcons()" id="subtask" class="task-input-style input-login" type="text"
            placeholder="Add new subtask" />
          <div id="dropdown-icon" class="input-icon-div">
            <img onclick="changeIcons()" src="assets/img/input-plus.png" alt="plus" />
          </div>
          <div id="subtask-div" class="subtask-div"></div>
        </div>
      </div>
    </div>

    <!--bottom-box-->
    <div class="d_f_sb_c pad-top-100" style="width: 960px">
      <div>
        <span><span style="color: red">*</span>This field is required</span>
      </div>
      <div class="d_f_c_c gap-15">
        <button class="clear-btn gap-10" type="button" onclick="clearForm()">
          Clear
          <svg class="contact-header-svg" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12 13.4L7.10005 18.3C6.91672 18.4834 6.68338 18.575 6.40005 18.575C6.11672 18.575 5.88338 18.4834 5.70005 18.3C5.51672 18.1167 5.42505 17.8834 5.42505 17.6C5.42505 17.3167 5.51672 17.0834 5.70005 16.9L10.6 12L5.70005 7.10005C5.51672 6.91672 5.42505 6.68338 5.42505 6.40005C5.42505 6.11672 5.51672 5.88338 5.70005 5.70005C5.88338 5.51672 6.11672 5.42505 6.40005 5.42505C6.68338 5.42505 6.91672 5.51672 7.10005 5.70005L12 10.6L16.9 5.70005C17.0834 5.51672 17.3167 5.42505 17.6 5.42505C17.8834 5.42505 18.1167 5.51672 18.3 5.70005C18.4834 5.88338 18.575 6.11672 18.575 6.40005C18.575 6.68338 18.4834 6.91672 18.3 7.10005L13.4 12L18.3 16.9C18.4834 17.0834 18.575 17.3167 18.575 17.6C18.575 17.8834 18.4834 18.1167 18.3 18.3C18.1167 18.4834 17.8834 18.575 17.6 18.575C17.3167 18.575 17.0834 18.4834 16.9 18.3L12 13.4Z" />
          </svg>
        </button>
        <button type="submit" class="btn gap-10">
          Create Task<img src="assets/img/check.png" />
        </button>
      </div>
    </div>
  </form>

  <div class="d_c_fs_fe pad-x-40 pad-y-40 popup-bg-filter width-max" id="guestMessagePopupAddTask">
    <div class="d_c_fs_c popup-guest-message bgC-white pad-y-40 pad-x-40 gap-40 text-center" id="guestMessageAddTask">
    </div>
</div>
</body>

</html>